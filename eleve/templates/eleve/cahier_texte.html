{% extends 'eleve/base.html' %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <a href="{% url 'eleve:dashboard' %}" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left"></i> Retour au tableau de bord
    </a>
</div>
<h1>Cahier de texte de {{ eleve.nom }} {{ eleve.prenom }}</h1>
<form method="get" class="mb-4">
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Filtrer</button>
</form>
<div class="card mb-4">
    <div class="card-header">Cahier de texte</div>
    <div class="card-body">
        <table class="table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Matière</th>
                    <th>Contenu</th>
                </tr>
            </thead>
            <tbody>
                {% for cahier in cahiers %}
                    <tr>
                        <td>{{ cahier.date|date:"d/m/Y" }}</td>
                        <td>{{ cahier.matiere }}</td>
                        <td>{{ cahier.contenu|truncatewords:20 }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="3">Aucun cahier de texte.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div class="card">
    <div class="card-header">Prochaines évaluations</div>
    <div class="card-body">
        <table class="table">
            <thead>
                <tr>
                    <th>Titre</th>
                    <th>Matière</th>
                    <th>Date</th>
                    <th>Type</th>
                </tr>
            </thead>
            <tbody>
                {% for evaluation in prochaines_evaluations %}
                    <tr>
                        <td>{{ evaluation.titre }}</td>
                        <td>{{ evaluation.matiere }}</td>
                        <td>{{ evaluation.date_evaluation|date:"d/m/Y" }}</td>
                        <td>{{ evaluation.get_type_evaluation_display }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="4">Aucune évaluation à venir.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}